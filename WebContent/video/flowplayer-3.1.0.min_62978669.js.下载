/*! ablejs - v0.2.0 - Thursday, October 23rd, 2014, 7:37:40 PM
* http://www.ablesky.com
* Copyright (c) 2014 frontend@ablesky.com; Licensed  */
!function(){function e(e){console.log("$f.fireEvent",[].slice.call(e))}function t(e){if(!e||"object"!=typeof e)return e;var a=new e.constructor;for(var i in e)e.hasOwnProperty(i)&&(a[i]=t(e[i]));return a}function a(e,t){if(e){var a,i=0,n=e.length;if(void 0===n){for(a in e)if(t.call(e[a],a,e[a])===!1)break}else for(var o=e[0];n>i&&t.call(o,i,o)!==!1;o=e[++i]);return e}}function i(e){return document.getElementById(e)}function n(e,t,i){return"object"!=typeof t?e:(e&&t&&a(t,function(t,a){i&&"function"==typeof a||(e[t]=a)}),e)}function o(e){var t=e.indexOf(".");if(-1!=t){var i=e.substring(0,t)||"*",n=e.substring(t+1,e.length),o=[];return a(document.getElementsByTagName(i),function(){this.className&&-1!=this.className.indexOf(n)&&o.push(this)}),o}}function s(e){return e=e||window.event,e.preventDefault?(e.stopPropagation(),e.preventDefault()):(e.returnValue=!1,e.cancelBubble=!0),!1}function l(e,t,a){e[t]=e[t]||[],e[t].push(a)}function r(){return"_"+(""+Math.random()).substring(2,10)}function d(o,d,c){function g(){function e(e){return k.isLoaded()||k._fireEvent("onBeforeClick")===!1||k.load(),s(e)}$f(o)?($f(o).getParent().innerHTML="",x=$f(o).getIndex(),m[x]=k):(m.push(k),x=m.length-1),E=parseInt(o.style.height,10)||o.clientHeight,"string"==typeof d&&(d={src:d}),v=o.id||"fp"+r(),y=d.id||v+"_api",d.id=y,c.playerId=v,"string"==typeof c&&(c={clip:{url:c}}),"string"==typeof c.clip&&(c.clip={url:c.clip}),c.clip=c.clip||{},o.getAttribute("href",2)&&!c.clip.url&&(c.clip.url=o.getAttribute("href",2)),f=new u(c.clip,-1,k),c.playlist=c.playlist||[c.clip];var t=0;a(c.playlist,function(){var e=this;"object"==typeof e&&e.length&&(e={url:""+e}),a(c.clip,function(t,a){void 0!==a&&void 0===e[t]&&"function"!=typeof a&&(e[t]=a)}),c.playlist[t]=e,e=new u(e,t,k),T.push(e),t++}),a(c,function(e,t){"function"==typeof t&&(l(C,e,t),delete c[e])}),a(c.plugins,function(e,t){t&&(I[e]=new p(e,t,k))}),c.plugins&&void 0!==c.plugins.controls||(I.controls=new p("controls",null,k)),I.canvas=new p("canvas",null,k),d.bgcolor=d.bgcolor||"#000000",d.version=d.version||[9,0],d.expressInstall="http://www.flowplayer.org/swf/expressinstall.swf",h=o.innerHTML,""!==h.replace(/\s/g,"")?o.addEventListener?o.addEventListener("click",e,!1):o.attachEvent&&o.attachEvent("onclick",e):(o.addEventListener&&o.addEventListener("click",s,!1),k.load())}var h,f,v,y,x,b,w,E,k=this,_=null,T=[],I={},C={};n(k,{id:function(){return v},isLoaded:function(){return null!==_},getParent:function(){return o},hide:function(e){return e&&(o.style.height="0px"),_&&(_.style.height="0px"),k},show:function(){return o.style.height=E+"px",_&&(_.style.height=w+"px"),k},isHidden:function(){return _&&0===parseInt(_.style.height,10)},load:function(e){return _||k._fireEvent("onBeforeLoad")===!1||(a(m,function(){this.unload()}),h=o.innerHTML,h&&!flashembed.isSupported([9,0])&&(wrappper.innerHTML=""),flashembed(o,d,{config:c}),e&&(e.cached=!0,l(C,"onLoad",e))),k},unload:function(){try{if(!_||_.fp_isFullscreen())return k}catch(e){return k}if(""!==h.replace(/\s/g,"")){if(k._fireEvent("onBeforeUnload")===!1)return!1;_.fp_close(),_=null,o.innerHTML=h,k._fireEvent("onUnload")}return k},getClip:function(e){return void 0===e&&(e=b),T[e]},getCommonClip:function(){return f},getPlaylist:function(){return T},getPlugin:function(e){var t=I[e];if(!t&&k.isLoaded()){var a=k._api().fp_getPlugin(e);a&&(t=new p(e,a,k),I[e]=t)}return t},getScreen:function(){return k.getPlugin("screen")},getControls:function(){return k.getPlugin("controls")},getConfig:function(e){return e?t(c):c},getFlashParams:function(){return d},loadPlugin:function(e,t,a,i){"function"==typeof a&&(i=a,a={});var n=i?r():"_";k._api().fp_loadPlugin(e,t,a,n);var o={};o[n]=i;var s=new p(e,null,k,o);return I[e]=s,s},getState:function(){return _?_.fp_getState():-1},play:function(e){function t(){void 0!==e?k._api().fp_play(e):k._api().fp_play()}return _?t():k.load(function(){t()}),k},getVersion:function(){var e="flowplayer.js 3.1.0";if(_){var t=_.fp_getVersion();return t.push(e),t}return e},_api:function(){if(!_)throw"Flowplayer "+k.id()+" not loaded when calling an API method";return _},setClip:function(e){return k.setPlaylist([e]),k},getIndex:function(){return x}}),a("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,Fullscreen*,FullscreenExit,Error".split(","),function(){var e="on"+this;if(-1!=e.indexOf("*")){e=e.substring(0,e.length-1);var t="onBefore"+e.substring(2);k[t]=function(e){return l(C,t,e),k}}k[e]=function(t){return l(C,e,t),k}}),a("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,reset,close,setPlaylist".split(","),function(){var e=this;k[e]=function(t){if(!_)return k;var a=void 0===t?_["fp_"+e]():_["fp_"+e](t);return"undefined"==a?k:a}}),k._fireEvent=function(t){"string"==typeof t&&(t=[t]);var n=t[0],o=t[1],s=t[2],l=t[3];if(c.debug&&e(t),_||"onLoad"!=n||"player"!=o||(_=_||i(y),w=_.clientHeight,a(T,function(){this._fireEvent("onLoad")}),a(I,function(e,t){t._fireEvent("onUpdate")}),f._fireEvent("onLoad")),"onLoad"!=n||"player"==o){if("onError"==n&&("string"==typeof o||"number"==typeof o&&"number"==typeof s)&&(o=s,s=l),"onContextMenu"==n)return a(c.contextMenu[o],function(e,t){t.call(k)}),void 0;if("onPluginEvent"==n){var r=o.name||o,d=I[r];return d&&(d._fireEvent("onUpdate",o),d._fireEvent(s,t.slice(3))),void 0}if("onPlaylistReplace"==n){T=[];var p=0;a(o,function(){T.push(new u(this,p++,k))})}var m=!0;if("number"==typeof o&&o<T.length){b=o;var g=T[o];g&&(m=g._fireEvent(n,s,l)),g&&m===!1||(m=f._fireEvent(n,s,l,g))}var h=0;return a(C[n],function(){return m=this.call(k,o,s),this.cached&&C[n].splice(h,1),m===!1?!1:(h++,void 0)}),m}},"string"==typeof o?flashembed.domReady(function(){var e=i(o);if(!e)throw"Flowplayer cannot access element: "+o;o=e,g()}):g()}function c(e){this.length=e.length,this.each=function(t){a(e,t)},this.size=function(){return e.length}}var u=function(e,t,i){var o=this,s={},d={};if(o.index=t,"string"==typeof e&&(e={url:e}),n(this,e,!0),a("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var e="on"+this;if(-1!=e.indexOf("*")){e=e.substring(0,e.length-1);var a="onBefore"+e.substring(2);o[a]=function(e){return l(d,a,e),o}}o[e]=function(t){return l(d,e,t),o},-1==t&&(o[a]&&(i[a]=o[a]),o[e]&&(i[e]=o[e]))}),n(this,{onCuepoint:function(e,a){if(1==arguments.length)return s.embedded=[null,e],o;"number"==typeof e&&(e=[e]);var n=r();return s[n]=[e,a],i.isLoaded()&&i._api().fp_addCuepoints(e,t,n),o},update:function(e){n(o,e),i.isLoaded()&&i._api().fp_updateClip(e,t);var a=i.getConfig(),s=-1==t?a.clip:a.playlist[t];n(s,e,!0)},_fireEvent:function(e,l,r,c){if("onLoad"==e)return a(s,function(e,a){a[0]&&i._api().fp_addCuepoints(a[0],t,e)}),!1;if(c=c||o,"onCuepoint"==e){var u=s[l];if(u)return u[1].call(i,c,r)}("onStart"==e||"onUpdate"==e)&&(n(c,l),c.duration?c.fullDuration=l.metaData.duration:c.duration=l.metaData.duration);var p=!0;return a(d[e],function(){p=this.call(i,c,l,r)}),p}}),e.onCuepoint){var c=e.onCuepoint;o.onCuepoint.apply(o,"function"==typeof c?[c]:c),delete e.onCuepoint}a(e,function(t,a){"function"==typeof a&&(l(d,t,a),delete e[t])}),-1==t&&(i.onCuepoint=this.onCuepoint)},p=function(e,t,i,o){var s={},l=this,d=!1;o&&n(s,o),a(t,function(e,a){"function"==typeof a&&(s[e]=a,delete t[e])}),n(this,{animate:function(a,n,o){if(!a)return l;if("function"==typeof n&&(o=n,n=500),"string"==typeof a){var d=a;a={},a[d]=n,n=500}if(o){var c=r();s[c]=o}return void 0===n&&(n=500),t=i._api().fp_animate(e,a,n,c),l},css:function(a,o){if(void 0!==o){var s={};s[a]=o,a=s}return t=i._api().fp_css(e,a),n(l,t),l},show:function(){return this.display="block",i._api().fp_showPlugin(e),l},hide:function(){return this.display="none",i._api().fp_hidePlugin(e),l},toggle:function(){return this.display=i._api().fp_togglePlugin(e),l},fadeTo:function(t,a,n){if("function"==typeof a&&(n=a,a=500),n){var o=r();s[o]=n}return this.display=i._api().fp_fadeTo(e,t,a,o),this.opacity=t,l},fadeIn:function(e,t){return l.fadeTo(1,e,t)},fadeOut:function(e,t){return l.fadeTo(0,e,t)},getName:function(){return e},getPlayer:function(){return i},_fireEvent:function(t,o){if("onUpdate"==t){var r=i._api().fp_getPlugin(e);if(!r)return;n(l,r),delete l.methods,d||(a(r.methods,function(){var t=""+this;l[t]=function(){var a=[].slice.call(arguments),n=i._api().fp_invoke(e,t,a);return"undefined"==n?l:n}}),d=!0)}var c=s[t];c&&(c.apply(l,o),"_"==t.substring(0,1)&&delete s[t])}})},m=[];window.flowplayer=window.$f=function(){var e=null,n=arguments[0];if(!arguments.length)return a(m,function(){return this.isLoaded()?(e=this,!1):void 0}),e||m[0];if(1==arguments.length)return"number"==typeof n?m[n]:"*"==n?new c(m):(a(m,function(){return this.id()==n.id||this.id()==n||this.getParent()==n?(e=this,!1):void 0}),e);if(arguments.length>1){var s=arguments[1],l=3==arguments.length?arguments[2]:{};if("string"==typeof n){if(-1!=n.indexOf(".")){var r=[];return a(o(n),function(){r.push(new d(this,t(s),t(l)))}),new c(r)}var u=i(n);return new d(null!==u?u:n,s,l)}if(n)return new d(n,s,l)}return null},n(window.$f,{fireEvent:function(){var e=[].slice.call(arguments),t=$f(e[0]);return t?t._fireEvent(e.slice(1)):null},addPlugin:function(e,t){return d.prototype[e]=t,$f},each:a,extend:n}),document.all&&(window.onbeforeunload=function(){$f("*").each(function(){this.isLoaded()&&this.close()})}),"function"==typeof jQuery&&(jQuery.prototype.flowplayer=function(e,a){if(!arguments.length||"number"==typeof arguments[0]){var i=[];return this.each(function(){var e=$f(this);e&&i.push(e)}),arguments.length?i[arguments[0]]:new c(i)}return this.each(function(){$f(this,t(e),a?t(a):{})})})}(),function(){function e(){if(r.done)return!1;var e=document;if(e&&e.getElementsByTagName&&e.getElementById&&e.body){clearInterval(r.timer),r.timer=null;for(var t=0;t<r.ready.length;t++)r.ready[t].call();r.ready=null,r.done=!0}}function t(e,t){if(t)for(key in t)t.hasOwnProperty(key)&&(e[key]=t[key]);return e}function a(e){switch(i(e)){case"string":return e=e.replace(new RegExp('(["\\\\])',"g"),"\\$1"),e=e.replace(/^\s?(\d+)%/,"$1pct"),'"'+e+'"';case"array":return"["+n(e,function(e){return a(e)}).join(",")+"]";case"function":return'"function()"';case"object":var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push('"'+o+'":'+a(e[o]));return"{"+t.join(",")+"}"}return String(e).replace(/\s/g," ").replace(/\'/g,'"')}function i(e){if(null===e||void 0===e)return!1;var t=typeof e;return"object"==t&&e.push?"array":t}function n(e,t){var a=[];for(var i in e)e.hasOwnProperty(i)&&(a[i]=t(e[i]));return a}function o(e,i){var n=t({},e),o=document.all,s='<object width="'+n.width+'" height="'+n.height+'"';o&&!n.id&&(n.id="_"+(""+Math.random()).substring(9)),n.id&&(s+=' id="'+n.id+'"'),s+=n.w3c||!o?' data="'+n.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',s+=">",(n.w3c||o)&&(s+='<param name="movie" value="'+n.src+'" />'),n.width=n.height=n.id=n.w3c=n.src=null;for(var l in n)null!==n[l]&&(s+='<param name="'+l+'" value="'+n[l]+'" />');var r="";if(i){for(var d in i)null!==i[d]&&(r+=d+"="+("object"==typeof i[d]?a(i[d]):i[d])+"&");r=r.substring(0,r.length-1),s+='<param name="flashvars" value=\''+r+"' />"}return s+="</object>"}function s(e,a,i){var n=flashembed.getVersion();t(this,{getContainer:function(){return e},getConf:function(){return conf},getVersion:function(){return n},getFlashvars:function(){return i},getApi:function(){return e.firstChild},getHTML:function(){return o(a,i)}});var s=a.version,l=a.expressInstall,r=!s||flashembed.isSupported(s);if(r?(a.onFail=a.version=a.expressInstall=null,e.innerHTML=o(a,i)):s&&l&&flashembed.isSupported([6,65])?(t(a,{src:l}),i={MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title},e.innerHTML=o(a,i)):""!==e.innerHTML.replace(/\s/g,"")||(e.innerHTML="<h2>Flash version "+s+" or greater is required</h2><h3>"+(n[0]>0?"Your version is "+n:"You have no flash plugin installed")+"</h3>"+("A"==e.tagName?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='http://www.adobe.com/go/getflashplayer'>here</a></p>"),"A"==e.tagName&&(e.href="http://www.adobe.com/go/getflashplayer")),!r&&a.onFail){var d=a.onFail.call(this);"string"==typeof d&&(e.innerHTML=d)}}var l="function"==typeof jQuery,r=l?jQuery:function(t){return r.done?t():(r.timer?r.ready.push(t):(r.ready=[t],r.timer=setInterval(e,13)),void 0)};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(e,a,i){if("string"==typeof e){var n=document.getElementById(e);if(!n)return r(function(){flashembed(e,a,i)}),void 0;e=n}if(e){var o={width:"100%",height:"100%",allowFullScreen:!0,allowscriptaccess:"always",quality:"high",version:null,onFail:null,expressInstall:null,w3c:!1};return"string"==typeof a&&(a={src:a}),t(o,a),new s(e,o,i)}},t(window.flashembed,{getVersion:function(){var e=[0,0];if(navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"]){var t=navigator.plugins["Shockwave Flash"].description;if("undefined"!=typeof t){t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1");var a=parseInt(t.replace(/^(.*)\..*$/,"$1"),10),i=/r/.test(t)?parseInt(t.replace(/^.*r(.*)$/,"$1"),10):0;e=[a,i]}}else if(window.ActiveXObject){try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(o){try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e=[6,0],n.AllowScriptAccess="always"}catch(s){if(6==e[0])return}try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(l){}}"object"==typeof n&&(t=n.GetVariable("$version"),"undefined"!=typeof t&&(t=t.replace(/^\S+\s+(.*)$/,"$1").split(","),e=[parseInt(t[0],10),parseInt(t[2],10)]))}return e},isSupported:function(e){var t=flashembed.getVersion(),a=t[0]>e[0]||t[0]==e[0]&&t[1]>=e[1];return a},domReady:r,asString:a,getHTML:o}),l&&(jQuery.prototype.flashembed=function(e,t){return this.each(function(){flashembed(this,e,t)})})}();